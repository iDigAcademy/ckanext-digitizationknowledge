scheming_presets_version: 2
about: Presets for the knowledge base extension
about_url:

presets:

# Preset based on Canada dataset id :
# https://github.com/open-data/ckanext-canada/blob/69b04b8eaf2750b3e95239783d2768248240e10e/ckanext/canada/schemas/presets.yaml#L29-L34
# Conversations about this functionality
# https://github.com/ckan/ckan/discussions/8091


# We generate IDs here because we use that ID as our name field as well
# and it needs to exist for "if_empty_same_as(id)" below to work
- preset_name: digitizationknowledge_dataset_id
  values:
    create_validators: digitizationknowledge_validate_generate_uuid unicode_safe name_validator package_id_does_not_exist
    #display_snippet: null
    field_name: id
    form_snippet: null
    display_snippet: text.html

# The Metadata Record Identifier is generated by the system when the dataset record is created (as a result of the user clicking the Submit button).
# Default value = blank.
# Display the dataset Metadata Record Identifier.
# {A unique phrase or string which identifies the metadata record within the Open Government Portal}
- preset_name: digitizationknowledge_dataset_name
  values:
    field_name: name
    form_snippet: text.html
    display_snippet: null
    validators: if_empty_same_as(id) not_empty unicode_safe digitizationknowledge_validate_generate_uuid